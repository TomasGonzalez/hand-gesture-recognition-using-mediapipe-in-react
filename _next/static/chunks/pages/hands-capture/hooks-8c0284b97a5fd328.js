(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[707],{3358:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hands-capture/hooks",function(){return e(2943)}])},2943:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return h}});var r=e(7568),a=e(828),i=e(9815),u=e(655),c=e(7294),o=e(7135),f=e(5423),s=e(7523),l=e(9743),p={keypointClassifierLabels:["Open","Closed","Pointing"]},h=function(){var n=(0,c.useRef)(null),t=(0,c.useRef)(null),e=(0,c.useRef)(null),h=(0,c.useRef)(null),d=(0,c.useRef)([]),m=(0,l.default)().processLandmark;function y(n){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(function(n){var t,e,r,c,o,l,y;return(0,u.__generator)(this,function(u){if(h.current){if(n.multiHandLandmarks.length,(t=h.current.getContext("2d")).save(),t.clearRect(0,0,h.current.width,h.current.height),t.drawImage(n.image,0,0,960,540),n.multiHandLandmarks){e=!0,r=!1,c=void 0;try{for(o=function(){var e,r,u,c,o,l,h,_,g,v,w,Z,x=(0,a.Z)(y.value,2),M=x[0],C=x[1];m(C,n.image).then(function(n){return d.current[M]=n}),console.log("gesture");var k=C.map(function(n){return n.x}),b=C.map(function(n){return n.y});t.fillStyle="#ff0000",t.font="24px serif",t.fillText(p.keypointClassifierLabels[d.current[M]],960*(e=Math).min.apply(e,(0,i.Z)(k)),540*(r=Math).min.apply(r,(0,i.Z)(b))-15),(0,f.drawRectangle)(t,{xCenter:(u=Math).min.apply(u,(0,i.Z)(k))+((c=Math).max.apply(c,(0,i.Z)(k))-(o=Math).min.apply(o,(0,i.Z)(k)))/2,yCenter:(l=Math).min.apply(l,(0,i.Z)(b))+((h=Math).max.apply(h,(0,i.Z)(b))-(_=Math).min.apply(_,(0,i.Z)(b)))/2,width:(g=Math).max.apply(g,(0,i.Z)(k))-(v=Math).min.apply(v,(0,i.Z)(k)),height:(w=Math).max.apply(w,(0,i.Z)(b))-(Z=Math).min.apply(Z,(0,i.Z)(b)),rotation:0,rectId:13},{fillColor:"transparent",color:"#ff0000",lineWidth:1}),(0,f.drawConnectors)(t,C,s.HAND_CONNECTIONS,{color:"#00ffff",lineWidth:2}),(0,f.drawLandmarks)(t,C,{color:"#ffff29",lineWidth:1})},l=n.multiHandLandmarks.entries()[Symbol.iterator]();!(e=(y=l.next()).done);e=!0)o()}catch(_){r=!0,c=_}finally{try{e||null==l.return||l.return()}finally{if(r)throw c}}}t.restore()}return[2]})})).apply(this,arguments)}var g=function(){t.current=new s.Hands({locateFile:function(n){return"https://cdn.jsdelivr.net/npm/@mediapipe/hands/".concat(n)}}),t.current.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),t.current.onResults(y)};return(0,c.useEffect)(function(){function a(){return(a=(0,r.Z)(function(){return(0,u.__generator)(this,function(a){return e.current=new o.Camera(n.current,{onFrame:(0,r.Z)(function(){return(0,u.__generator)(this,function(e){switch(e.label){case 0:return[4,t.current.send({image:n.current})];case 1:return e.sent(),[2]}})}),width:960,height:540}),e.current.start(),[2]})})).apply(this,arguments)}(function(){a.apply(this,arguments)})(),g()},[]),{maxVideoHeight:540,maxVideoWidth:960,canvasEl:h,videoElement:n}}},9743:function(n,t,e){"use strict";e.r(t);var r=e(7568),a=e(9815),i=e(655),u=e(7294),c=e(8947),o=e(6486),f=e.n(o),s=function(n,t){var e=n.width,r=n.height,a=[];return Object.values(t).forEach(function(n){var t=Math.min(n.x*e,e-1),i=Math.min(n.y*r,r-1);a.push([t,i])}),a},l=function(n){var t,e=f().cloneDeep(n),r=0,i=0;Object.values(e).forEach(function(n,t){t||(r=parseInt(n[0]),i=parseInt(n[1])),e[t][0]=e[t][0]-r,e[t][1]=e[t][1]-i}),e=f().flatten(e);var u=(t=Math).max.apply(t,(0,a.Z)(e.map(function(n){return Math.abs(n)})));return e=e.map(function(n){return n/u})};t.default=function(){var n,t,e,a=(0,u.useRef)(),o=(n=(0,r.Z)(function(n){var t;return(0,i.__generator)(this,function(t){switch(t.label){case 0:return[4,a.current.execute(c.odF([n])).squeeze().argMax().data()];case 1:return[2,t.sent()]}})}),function(t){return n.apply(this,arguments)}),f=(t=(0,r.Z)(function(n,t){var e,r,a;return(0,i.__generator)(this,function(a){switch(a.label){case 0:return e=s(t,n),r=l(e),[4,o(r)];case 1:return[2,a.sent()[0]]}})}),function(n,e){return t.apply(this,arguments)}),p=(e=(0,r.Z)(function(){return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,c.YLj("/tf-models/key-point-classifier/model.json")];case 1:return a.current=n.sent(),[2]}})}),function(){return e.apply(this,arguments)});return(0,u.useEffect)(function(){p()},[]),{processLandmark:f}}},5410:function(){},8628:function(){},1601:function(){},7792:function(){},4977:function(){},5042:function(){}},function(n){n.O(0,[662,864,723,132,974,904,394,554,774,888,179],function(){return n(n.s=3358)}),_N_E=n.O()}]);